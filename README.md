# Blockchain Academic Certificate System

A web application for issuing and verifying academic certificates using blockchain (Ethereum) and IPFS for decentralized storage and enhanced security. Built with Python (Streamlit, Web3.py), Solidity (Smart Contracts), and Firebase Authentication.

![Project Banner](assets/comp_logo.png)

## Table of Contents

*   [Description](#description)
*   [Features](#features)
*   [Directory Structure](#directory-structure)
*   [Prerequisites](#prerequisites)
*   [Setup and Installation](#setup-and-installation)
*   [Running the Application](#running-the-application)
*   [Usage](#usage)
*   [Security Note](#security-note)
*   [Technology Stack](#technology-stack)

## Description

This system provides a secure and transparent way for academic institutions to issue digital certificates and for verifiers (e.g., employers, other institutions) to easily confirm their authenticity.

*   **Institutions** can generate certificates, which are created as PDFs, uploaded to IPFS (via Pinata), and their metadata (student details, course, IPFS hash) is recorded on an Ethereum blockchain via a smart contract.
*   **Verifiers** can check the validity of a certificate either by uploading the PDF (the system extracts data, calculates the expected ID, and checks the blockchain) or by entering the unique certificate ID (the system retrieves data from the blockchain and the corresponding PDF from IPFS).
*   User authentication for Verifiers is handled by Firebase.

## Features

*   **Decentralized Storage:** Certificate PDFs are stored on IPFS, ensuring availability and tamper-resistance.
*   **Blockchain Verification:** Certificate metadata is immutably stored on the Ethereum blockchain, providing a single source of truth.
*   **User Roles:** Distinct interfaces for "Institute" (issuing) and "Verifier" (checking).
*   **Multiple Verification Methods:** Verify by PDF upload or by unique Certificate ID.
*   **Web Interface:** User-friendly interface built with Streamlit.
*   **Firebase Authentication:** Secure login/registration for Verifiers.

## Directory Structure
```
└── Academics_Certificate_System
    ├── application/      # Streamlit web application source code
    │   ├── db/           # Firebase connection and auth functions
    │   ├── pages/        # Individual Streamlit pages (Institute, Verifier, Login, Register)
    │   ├── utils/        # Helper functions (PDF generation/parsing, Streamlit UI)
    │   ├── .env          # Environment variables (API Keys, Credentials) - DO NOT COMMIT
    │   ├── app.py        # Main Streamlit entry point
    │   ├── connection.py # Web3.py connection to the blockchain contract
    │   └── requirements.txt # Python dependencies
    ├── contracts/        # Solidity smart contracts
    │   ├── Certification.sol # Main contract for certificate registry
    │   └── Migrations.sol    # Truffle migration helper contract
    ├── migrations/       # Truffle deployment scripts
    ├── build/            # Contract artifacts (generated by Truffle)
    ├── assets/           # Images and other assets
    ├── .gitignore        # Specifies intentionally untracked files
    ├── deployment_config.json # Stores deployed contract address (generated by migration)
    ├── README.md         # Project Guide
    └── truffle-config.js # Truffle configuration file
```

## Prerequisites

*   **Node.js & npm:** For Truffle and contract dependencies.
*   **Python 3.8+ & pip:** For the Streamlit application.
*   **Ganache:** Local Ethereum blockchain for development. ([https://trufflesuite.com/ganache/](https://trufflesuite.com/ganache/))
*   **Truffle:** Development framework for Ethereum (`npm install -g truffle`).
*   **Firebase Project:** For Verifier authentication. ([https://firebase.google.com/](https://firebase.google.com/))
*   **Pinata Account:** For IPFS storage. ([https://www.pinata.cloud/](https://www.pinata.cloud/))

## Setup and Installation

1.  **Clone the Repository:**
    ```bash
    git clone https://github.com/JyiaJain/Academics_Certificate_System
    cd Academics_Certificate_System
    ```

2.  **Install Node.js Dependencies:**
    ```bash
    # Navigate to the root directory if not already there
    npm install
    ```

3.  **Install Python Dependencies:**
    ```bash
    # Navigate to the application directory
    cd application
    pip install -r requirements.txt
    cd ..
    ```

4.  **Configure Environment Variables:**
    *   Navigate to the `application/` directory.
    *   Create a `.env` file by copying the example or structure from the provided file.
    *   **Firebase:**
        *   Create a Firebase project and enable Email/Password Authentication.
        *   Go to Project Settings -> General -> Your apps -> Web app.
        *   Copy the `firebaseConfig` values into the corresponding `FIREBASE_` variables in `.env`.
        *   Optionally, set `FIREBASE_DATABASE_URL` if needed, otherwise it will be derived from `FIREBASE_PROJECT_ID`.
        *   **(Security Note):** The `db/key.json` file contains a service account key. This is highly sensitive. Ensure this file is **NEVER** committed to version control. Add `application/db/key.json` to your `.gitignore` file if it's not already there. You typically obtain this from Firebase Project Settings -> Service accounts -> Generate new private key.
    *   **Pinata:**
        *   Create a Pinata account.
        *   Go to API Keys and create a new key.
        *   Copy the API Key and Secret API Key into `PINATA_API_KEY` and `PINATA_API_SECRET` in `.env`.
    *   **Institute Credentials:**
        *   Set the desired default `institute_email` and `institute_password` in `.env`.

5.  **Start Ganache:**
    *   Start the Ganache CLI:
    ```bash
    ganache-cli -h 127.0.0.1 -p 8545
    ```
    *   Alternatively, you can use the Ganache GUI application, ensuring it's running on the default host (`127.0.0.1`) and port (`8545`), matching `truffle-config.js`.
    

6.  **Compile and Deploy Contracts:**
    *   Open a terminal in the project's root directory.
    *   Compile the contracts:
        ```bash
        truffle compile
        ```
    *   Deploy the contracts to your running Ganache instance:
        ```bash
        truffle migrate
        ```
        *(Use `truffle migrate --reset` if redeploying)*
    *   This will create/update `deployment_config.json` with the deployed `Certification` contract address.
    *   You should see a success message similar to:
    ```
    Certification contract deployed at address: 0x5498d42f953A996A65B1D9192b575Fd06fB2588d
    ```

## Running the Application

1.  **Ensure Ganache is running** (either CLI or GUI version).
2.  **Navigate to the `application/` directory:**
    ```bash
    cd application
    ```
3.  **Run the Streamlit app:**
    ```bash
    streamlit run app.py
    ```
4.  Open your web browser and go to the local URL provided by Streamlit (usually `http://localhost:8501`).

## Usage

1.  **Role Selection:** Choose either "Institute" or "Verifier".
2.  **Login/Register:**
    *   **Institute:** Uses the hardcoded credentials from the `.env` file.
    *   **Verifier:** Can register using an email/password (via Firebase) or log in if already registered.
3.  **Institute Dashboard:**
    *   Select "Generate Certificate".
    *   Fill in the student UID, name, course name, and institution name.
    *   Click "Generate Certificate". The system creates a PDF, uploads it to Pinata (IPFS), and records the details on the blockchain. The Certificate ID and IPFS hash are displayed.
    *   Select "View Certificates" and enter a Certificate ID to retrieve details and view the PDF from IPFS.
4.  **Verifier Dashboard:**
    *   **Verify by PDF:** Upload the certificate PDF. The system attempts to extract data, calculate the ID, and checks the blockchain for validity. The PDF is displayed along with the verification result.
    *   **Verify by ID:** Enter the Certificate ID. The system retrieves details from the blockchain, fetches the PDF from IPFS, and displays it along with a verification status.

## Demo

![Institution Dashboard](placeholder-for-institution-dashboard.png)
*The institution dashboard for managing certificate issuance and tracking*

![Certificate Issuance](placeholder-for-certificate-issuance.png)
*The certificate issuance interface*

![Certificate Verification](placeholder-for-verification.png)
*The verification interface showing a successfully verified certificate*

## Security Note

*   **NEVER commit your `.env` file or `application/db/key.json` file to version control (e.g., Git).** These files contain sensitive API keys and credentials. Ensure they are listed in your `.gitignore` file.
*   The current Institute login uses hardcoded credentials in `.env`. For production, a more robust authentication mechanism should be implemented.
*   The PDF parsing in `cert_utils.py` relies on specific line numbers, which might be fragile if the PDF generation format changes.

## Technology Stack

*   **Frontend:** Streamlit
*   **Backend:** Python, Flask (implicitly via Streamlit/Pyrebase)
*   **Blockchain:** Ethereum (via Ganache for local dev), Solidity
*   **Blockchain Interaction:** Web3.py, Truffle Suite
*   **Decentralized Storage:** IPFS (via Pinata)
*   **Authentication:** Firebase Authentication
*   **PDF Handling:** ReportLab (generation), pdfplumber (parsing)

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the LICENSE file for details.
